import sys
import os

import pickle
import numpy as np
#import pandas as pd  python2.7 deny

from collections import Counter



#alg = int(sys.argv[1])
#win = int(sys.argv[2])
alg = 1
win = 5
fold = 'fold_6_after_5'

results_dir = '5-fold-result/' + fold + '/' + fold + '_results_win5_sg1/' + 'classifications'


matrix = np.zeros(shape=(7, 7))
for root, dirs, filenames in os.walk(results_dir):
        for result_malware in filenames:
            f = open(results_dir + '/' + result_malware)
            for line in f:
                xx = line.split()

                i = int(result_malware[-1])-1
                j = int(xx[0])-1

                matrix[i][j] += 1
        print(matrix)

# save to txt
np.savetxt('5-fold-result/' + fold + '/' + 'confusion-matrix.txt', matrix, fmt='%d')
