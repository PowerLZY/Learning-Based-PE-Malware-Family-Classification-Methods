import sys
import os

import pickle
import numpy as np
#import pandas as pd  python2.7 deny

from collections import Counter



#alg = int(sys.argv[1])
#win = int(sys.argv[2])
alg = 1
win = 5
fold = 'fold_10'

results_dir = '10-fold-result/' + fold + '/' + fold + '_results_win' + str(win) + '_sg' + str(alg) + '/' + 'classifications'


matrix = np.zeros(shape=(9, 9))
for root, dirs, filenames in os.walk(results_dir):
        for result_malware in filenames:
            f = open(results_dir + '/' + result_malware)
            for line in f:
                xx = line.split()

                i = int(result_malware[-1])-1
                j = int(xx[0])-1

                matrix[i][j] += 1
        print(matrix)

# save to txt
np.savetxt('10-fold-result/' + fold + '/' + 'confusion-matrix.txt', matrix, fmt='%d')
